<div class="container-fluid">
  <h3 class="display-4">Upload Account</h3>

  <div class="form-group">
    <input
      type="file"
      name="files"
      class="form-control-file"
      #uploads
      (change)="onFileChange($event)"
      multiple
      value="process"
    />
  </div>

  <button
    *ngIf="data.length > 0 && areErrors"
    class="btn btn-danger mr-2"
    (click)="onClickShowErros()"
  >
    Show Errors
  </button>
  <button class="btn btn-primary" (click)="onClickSendToAPI()">
    Send to API
  </button>
  <p></p>

  <div class="alert alert-success" role="alert" *ngIf="backendReceivedData">
    Success
  </div>

  <p *ngIf="loading">Loading...</p>

  <h1 *ngIf="data.length > 0 && areErrors">
    Correct your data and reupload it
  </h1>

  <div *ngIf="data.length > 0" class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Accounting date</th>
          <th>Registration No</th>
          <th>IDKT</th>
          <th>Original IDKT</th>
          <th>Counter Account IDKT</th>
          <th>Text</th>
          <th>Project code</th>
          <th>Currency</th>
          <th>Balance</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of data">
          <td>
            <app-table-data-cell
              [errors]="record.errors.AccountingDate"
              [data]="record.AccountingDate"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.RegistrationNo"
              [data]="record.RegistrationNo"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.IDKT"
              [data]="record.IDKT"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.OriginalIDKT"
              [data]="record.OriginalIDKT"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.CounterAccountIDKT"
              [data]="record.CounterAccountIDKT"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.Text"
              [data]="record.Text"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.ProjectCode"
              [data]="record.ProjectCode"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.Currency"
              [data]="record.Currency"
            ></app-table-data-cell>
          </td>
          <td>
            <app-table-data-cell
              [errors]="record.errors.Balance"
              [data]="record.Balance"
            ></app-table-data-cell>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
