!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-tooltip-directive",["exports","@angular/core","@angular/common"],e):e(t["ng2-tooltip-directive"]={},t.ng.core,t.ng.common)}(this,function(t,s,o){"use strict";var i=function(){function t(t,e){this.elementRef=t,this.renderer=e,this._show=!1,this.events=new s.EventEmitter}return t.prototype.transitionEnd=function(t){this.show&&this.events.emit({type:"shown"})},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(t){t&&this.setPosition(),this._show=this.hostClassShow=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.data.options.placement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoPlacement",{get:function(){return this.data.options.autoPlacement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.data.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementPosition",{get:function(){return this.data.elementPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.data.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipOffset",{get:function(){return Number(this.data.options.offset)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isThemeLight",{get:function(){return"light"===this.options.theme},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setPlacementClass(),this.setCustomClass(),this.setStyles()},t.prototype.setPosition=function(){var t,e;if(!this.setHostStyle(this.placement)&&this.autoPlacement){try{for(var o=function s(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}(["top","right","bottom","left"]),i=o.next();!i.done;i=o.next()){var n=i.value;if(this.setHostStyle(n))return void this.setPlacementClass(n)}}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=o["return"])&&e.call(o)}finally{if(t)throw t.error}}}else this.setPlacementClass(this.placement)},t.prototype.setPlacementClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+t)},t.prototype.setHostStyle=function(t){var e,o,i=this.element instanceof SVGElement,n=this.elementRef.nativeElement,s=!this.elementPosition.right,r=i?this.element.getBoundingClientRect().height:this.element.offsetHeight,p=i?this.element.getBoundingClientRect().width:this.element.offsetWidth,a=n.clientHeight,l=n.clientWidth,h=window.pageYOffset;s&&(p=r=0),"top"===t&&(e=this.elementPosition.top+h-(a+this.tooltipOffset)),"bottom"===t&&(e=this.elementPosition.top+h+r+this.tooltipOffset),"top"!==t&&"bottom"!==t||(o=this.elementPosition.left+p/2-l/2),"left"===t&&(o=this.elementPosition.left-l-this.tooltipOffset),"right"===t&&(o=this.elementPosition.left+p+this.tooltipOffset),"left"!==t&&"right"!==t||(e=this.elementPosition.top+h+r/2-n.clientHeight/2);var c=o,u=o+l;return(!(e<0||e+a>document.body.clientHeight||c<0||u>document.body.clientWidth)||!this.autoPlacement)&&(this.hostStyleTop=e+"px",this.hostStyleLeft=o+"px",!0)},t.prototype.setZIndex=function(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)},t.prototype.setPointerEvents=function(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)},t.prototype.setCustomClass=function(){this.options.tooltipClass&&this.renderer.addClass(this.elementRef.nativeElement,this.options.tooltipClass)},t.prototype.setAnimationDuration=function(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")},t.prototype.setStyles=function(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth+"px",this.hostStyleWidth=this.options.width?this.options.width+"px":""},t.decorators=[{type:s.Component,args:[{selector:"tooltip",template:'<div *ngIf="isThemeLight" class="tooltip-arrow"></div>\r\n\r\n<div *ngIf="options[\'contentType\'] === \'template\' else htmlOrStringTemplate" \r\n    [ngClass]="{\'tooltip-arrow\': isThemeLight }">\r\n\r\n\t<ng-container *ngTemplateOutlet="value"></ng-container>\r\n</div>\r\n\r\n<ng-template #htmlOrStringTemplate>\r\n\t<div [innerHTML]="value"></div>\r\n</ng-template>\r\n',host:{"class":"tooltip"},styles:[":host{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}:host.tooltip::after{content:\"\";position:absolute;border-style:solid}:host.tooltip-top::after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 transparent transparent}:host.tooltip-bottom::after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent #000}:host.tooltip-left::after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent #000}:host.tooltip-right::after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent #000 transparent transparent}:host.tooltip-light::after{display:none}:host.tooltip-light{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}:host.tooltip-light .tooltip-arrow{position:absolute;width:10px;height:10px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:rgba(0,0,0,.07)}:host.tooltip-light .tooltip-arrow::after{background-color:#fff;content:'';display:block;position:absolute;width:10px;height:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-top.tooltip-light .tooltip-arrow::after{top:1px;right:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}:host.tooltip-bottom.tooltip-light .tooltip-arrow::after{top:-1px;right:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-left.tooltip-light .tooltip-arrow::after{top:1px;right:-1px}:host.tooltip-right.tooltip-light .tooltip-arrow{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-right.tooltip-light .tooltip-arrow::after{top:-1px;right:1px}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2}]},t.propDecorators={data:[{type:s.Input}],hostStyleTop:[{type:s.HostBinding,args:["style.top"]}],hostStyleLeft:[{type:s.HostBinding,args:["style.left"]}],hostStyleZIndex:[{type:s.HostBinding,args:["style.z-index"]}],hostStyleTransition:[{type:s.HostBinding,args:["style.transition"]}],hostStyleWidth:[{type:s.HostBinding,args:["style.width"]}],hostStyleMaxWidth:[{type:s.HostBinding,args:["style.max-width"]}],hostStylePointerEvents:[{type:s.HostBinding,args:["style.pointer-events"]}],hostClassShow:[{type:s.HostBinding,args:["class.tooltip-show"]}],hostClassShadow:[{type:s.HostBinding,args:["class.tooltip-shadow"]}],hostClassLight:[{type:s.HostBinding,args:["class.tooltip-light"]}],transitionEnd:[{type:s.HostListener,args:["transitionend",["$event"]]}],show:[{type:s.Input}]},t}(),n=new s.InjectionToken("TooltipOptions"),r={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},p={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"},a=function(){function t(t,e,o,i,n){this.initOptions=t,this.elementRef=e,this.componentFactoryResolver=o,this.appRef=i,this.injector=n,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new s.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){t&&r&&(this._options=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTooltipDestroyed",{get:function(){return this.componentRef&&this.componentRef.hostView.destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyDelay",{get:function(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)},set:function(t){this._destroyDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.options.position?this.options.position:this.elementPosition},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){0!=this.isDisplayOnHover&&this.show()},t.prototype.onMouseLeave=function(){"hover"===this.options.trigger&&this.destroyTooltip()},t.prototype.onClick=function(){var t=this;0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(function(){t.destroyTooltip()},this.options.hideDelayAfterClick))},t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.initOptions=this.renameProperties(this.initOptions);var e=this.getProperties(t);e=this.renameProperties(e),this.applyOptionsDefault(r,e)},t.prototype.ngOnDestroy=function(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()},t.prototype.getShowDelay=function(){return this.options.showDelay},t.prototype.getHideDelay=function(){var t=this.options.hideDelay,e=this.options.hideDelayTouchscreen;return this.isTouchScreen?e:t},t.prototype.getProperties=function(t){var e={};for(var o in t)"options"!==o&&"tooltipValue"!==o&&(e[o]=t[o].currentValue),"options"===o&&(e=t[o].currentValue);return e},t.prototype.renameProperties=function(t){for(var e in t)p[e]&&(t[p[e]]=t[e],delete t[e]);return t},t.prototype.getElementPosition=function(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()},t.prototype.createTooltip=function(){var t=this;this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(function(){t.appendComponentToBody(i)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(function(){t.showTooltipElem()},this.getShowDelay())},t.prototype.destroyTooltip=function(t){var e=this;void 0===t&&(t={fast:!1}),this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(function(){e.hideTooltip()},t.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(function(){e.componentRef&&!e.isTooltipDestroyed&&(e.appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),e.events.emit({type:"hidden",position:e.tooltipPosition}))},t.fast?0:this.destroyDelay))},t.prototype.showTooltipElem=function(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})},t.prototype.hideTooltip=function(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))},t.prototype.appendComponentToBody=function(t,e){var o=this;void 0===e&&(e={}),this.componentRef=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView);var i=this.componentRef.hostView.rootNodes[0];document.body.appendChild(i),this.componentSubscribe=this.componentRef.instance.events.subscribe(function(t){o.handleEvents(t)})},t.prototype.clearTimeouts=function(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)},Object.defineProperty(t.prototype,"isDisplayOnHover",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"hover"===this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayOnClick",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"click"==this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchScreen",{get:function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var e,o=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e=o,window.matchMedia(e).matches},enumerable:!0,configurable:!0}),t.prototype.applyOptionsDefault=function(t,e){this.options=Object.assign({},t,this.initOptions||{},e)},t.prototype.handleEvents=function(t){"shown"===t.type&&this.events.emit({type:"shown",position:this.tooltipPosition})},t.prototype.show=function(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()},t.prototype.hide=function(){this.destroyTooltip()},t.decorators=[{type:s.Directive,args:[{selector:"[tooltip]"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:s.Optional},{type:s.Inject,args:[n]}]},{type:s.ElementRef},{type:s.ComponentFactoryResolver},{type:s.ApplicationRef},{type:s.Injector}]},t.propDecorators={options:[{type:s.Input,args:["options"]}],tooltipValue:[{type:s.Input,args:["tooltip"]}],placement:[{type:s.Input,args:["placement"]}],autoPlacement:[{type:s.Input,args:["autoPlacement"]}],contentType:[{type:s.Input,args:["content-type"]}],hideDelayMobile:[{type:s.Input,args:["hide-delay-mobile"]}],hideDelayTouchscreen:[{type:s.Input,args:["hideDelayTouchscreen"]}],zIndex:[{type:s.Input,args:["z-index"]}],animationDuration:[{type:s.Input,args:["animation-duration"]}],trigger:[{type:s.Input,args:["trigger"]}],tooltipClass:[{type:s.Input,args:["tooltip-class"]}],display:[{type:s.Input,args:["display"]}],displayMobile:[{type:s.Input,args:["display-mobile"]}],displayTouchscreen:[{type:s.Input,args:["displayTouchscreen"]}],shadow:[{type:s.Input,args:["shadow"]}],theme:[{type:s.Input,args:["theme"]}],offset:[{type:s.Input,args:["offset"]}],width:[{type:s.Input,args:["width"]}],maxWidth:[{type:s.Input,args:["max-width"]}],id:[{type:s.Input,args:["id"]}],showDelay:[{type:s.Input,args:["show-delay"]}],hideDelay:[{type:s.Input,args:["hide-delay"]}],hideDelayAfterClick:[{type:s.Input,args:["hideDelayAfterClick"]}],pointerEvents:[{type:s.Input,args:["pointerEvents"]}],position:[{type:s.Input,args:["position"]}],events:[{type:s.Output}],onMouseEnter:[{type:s.HostListener,args:["focusin"]},{type:s.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:s.HostListener,args:["focusout"]},{type:s.HostListener,args:["mouseleave"]}],onClick:[{type:s.HostListener,args:["click"]}]},t}(),e=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:n,useValue:t}]}},e.decorators=[{type:s.NgModule,args:[{declarations:[a,i],imports:[o.CommonModule],exports:[a],entryComponents:[i]}]}],e}();t.TooltipComponent=i,t.TooltipDirective=a,t.TooltipModule=e,t.ɵa=n,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-tooltip-directive.umd.min.js.map